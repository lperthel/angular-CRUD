<!-- Main Content Region -->
<main aria-labelledby="productHeading">
  <section aria-labelledby="productHeading">
    <h1 id="productHeading">Product</h1>

    <!-- Article Region for Form -->
    <article aria-labelledby="articleLabel">
      <h2 id="articleLabel" class="sr-only">Product Update Form</h2>
      <!-- Screen reader only text -->
      <form
        [formGroup]="productForm"
        (ngSubmit)="updateProduct()"
        novalidate
        aria-labelledby="formLabel"
      >
        <p id="formLabel" class="sr-only">
          Use this form to update the product details.
        </p>
        <!-- Screen reader only text -->

        <div *ngIf="!formChanged" class="error">
          No changes detected. Please modify the fields to update.
        </div>

        <div class="form-group">
          <label for="name" id="name-label">Name (Required)</label>
          <input
            type="text"
            id="name"
            formControlName="name"
            class="form-control"
            maxlength="20"
            placeholder="Enter product name"
            aria-required="true"
            required
          />
          <div
            *ngIf="isInvalid('name')"
            class="error"
            role="alert"
            aria-describedby="name-label"
            tabindex="0"
          >
            Name is required and must be at most 20 characters long.
          </div>
        </div>

        <div class="form-group">
          <label for="description" id="description-label"
            >Description (Required)</label
          >
          <textarea
            id="description"
            class="form-control"
            formControlName="description"
            rows="3"
            maxlength="50"
            placeholder="Enter product description"
            aria-required="true"
            required
          ></textarea>
          <div
            *ngIf="isInvalid('description')"
            class="error"
            role="alert"
            aria-describedby="description-label"
            tabindex="0"
          >
            Description is required and must be at most 50 characters long.
          </div>
        </div>

        <div class="form-group">
          <label for="price" id="price-label">Price (required)</label>
          <input
            type="number"
            formControlName="price"
            class="form-control"
            id="price"
            placeholder="Enter product price"
            aria-required="true"
            required
          />
          <div
            *ngIf="isInvalid('price')"
            class="error"
            role="alert"
            aria-describedby="price-label"
            tabindex="0"
          >
            Price is required and must be a valid number.
          </div>
        </div>

        <div class="form-group">
          <label for="quantity" id="quantity-label">Quantity (Required)</label>
          <input
            type="number"
            formControlName="quantity"
            class="form-control"
            id="quantity"
            placeholder="Enter product quantity"
            aria-required="true"
            required
          />
          <div
            *ngIf="isInvalid('quantity')"
            class="error"
            role="alert"
            aria-describedby="quantity-label"
            tabindex="0"
          >
            Quantity is required and must be a valid number.
          </div>
        </div>

        <button type="submit" aria-label="Update product details">
          Update Product
        </button>
        <button
          type="button"
          (click)="cancel()"
          aria-label="Cancel update of product details"
        >
          Cancel
        </button>
      </form>
    </article>
  </section>
</main>
